<template>
  <div class="slds-card slds-box" onclick={handleUserCardClicked} style="text-align: left;">
    <div class="slds-grid slds-grid_vertical-align-center">
      <template lwc:if={userInfo}>
        <div class="slds-col slds-grow-none">
          <lightning-avatar variant="circle" fallback-icon-name="standard:avatar_loading" size="large"
            src={userInfo.smallPhotoUrl} alternative-text={labels.AvatarAltTextLabel}></lightning-avatar>
        </div>
        <div class="slds-col slds-var-p-horizontal_small slds-truncate slds-grid_align-end">
          <!-- Name -->
          <lightning-formatted-text class="slds-text-heading_medium" value={userInfo.name}
            title={userInfo.name}></lightning-formatted-text>
          <!-- Score -->
          <c-user-card-details icon="utility:favorite" label={labels.PersonalScoreLabel}
            value={getScore}></c-user-card-details>
          <!-- Progress -->
          <template lwc:if={getShowProgressBar}>
            <c-user-card-details icon="utility:setup_assistant_guide" label={labels.NumberOfAchievementsLabel}
              value={getNumberOfAchievements}></c-user-card-details>
            <lightning-progress-bar value={getNumberOfAchievementsPercentage} size="small"></lightning-progress-bar>
          </template>
          <template lwc:else>
            <c-user-card-details icon="utility:setup_assistant_guide" label={labels.NumberOfAchievementsLabel}
              value={getNumberOfAchievements}></c-user-card-details>
          </template>
        </div>
      </template>
      <template lwc:else>
        <div class="slds-col slds-spinner_container" style="height:6rem;position:relative;">
          <lightning-spinner alternative-text={labels.LoadingLabel} size="medium"></lightning-spinner>
        </div>
      </template>
    </div>
  </div>
</template>